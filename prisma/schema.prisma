// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = env("POSTGRES_URL")
//   directUrl = env("POSTGRES_URL_NON_POOLING")
}

model User {
  id        String   @id @default(uuid())
  name     String
    nickname  String?
  email     String   @unique
  budget    Float?
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
    transactions Transaction[]
  }

  enum TransactionType {
    INCOME
    EXPENSE
    TRANSFER
  }

    enum TransactionCurrency {
        USD
        EUR
        MXN
        COP
    }

    enum TransactionCategory {
        FOOD
        TRANSPORT
        SHOPPING
        RENT
        UTILITIES
        ENTERTAINMENT
        HEALTH
        TRAVEL
        OTHER
    }

model Transaction {
    id          String   @id @default(uuid())
    userId      String  @map("user_id")
    type        TransactionType
    amount      Float
    currency    TransactionCurrency
    category    TransactionCategory
    description String
    createdAt   DateTime @default(now()) @map("created_at")
    updatedAt   DateTime @updatedAt @map("updated_at")
    User        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

